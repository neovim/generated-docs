<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Nvim documentation: pi_msgpack</title>
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
  </head>
  <body>
    <header class="container">
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <a href="/" class="navbar-brand">
            <svg xmlns="http://www.w3.org/2000/svg" style="height: 2.5em" viewBox="0 0 742 214">
              <defs>
                <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
                  <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
                  <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
                </linearGradient>
                <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
                  <stop stop-color="#7DB643" offset="0%" />
                  <stop stop-color="#367533" offset="100%" />
                </linearGradient>
                <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
                  <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
                  <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
                </linearGradient>
              </defs>
              <g fill="none" fill-rule="evenodd">
                <path
                  d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
                  fill="url(#a)"
                  transform="translate(1 1)"
                />
                <path
                  d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
                  fill="url(#b)"
                  transform="matrix(-1 0 0 1 305 1)"
                />
                <path
                  d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
                  fill="url(#c)"
                  transform="translate(1 1)"
                />
                <path
                  d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
                  fill-opacity=".13"
                  fill="#000"
                />
                <g fill="#444">
                  <path
                    d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
                    fill="currentColor"
                  />
                  <path
                    d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
                    fill="currentColor"
                    fill-opacity=".8"
                  />
                </g>
              </g>
            </svg>
          </a>
        </div>
      </nav>
    </header>

    <div class="container">
      <h1>Nvim documentation: pi_msgpack</h1>
<A NAME="top"></A>
<A HREF="index.html">main help file</A>

<HR>
<PRE>

*<A NAME="pi_msgpack.txt"></A><B>pi_msgpack.txt</B>*   msgpack utilities

Author: Nikolay Pavlov <A HREF="mailto:kp-pav@yandex.ru">&lt;kp-pav@yandex.ru&gt;</A> 
Copyright: (c) 2015 by Nikolay Pavlov

The Apache <A HREF="uganda.html#license">license</A> applies to the files in this package, including 
runtime/autoload/msgpack.vim, runtime/doc/pi_msgpack.txt and 
test/functional/plugin/msgpack_spec.lua.  Like anything else that's free, 
msgpack.vim and its associated files are provided *as is* and comes with no 
warranty of any kind, either expressed or implied.  No guarantees of 
merchantability.  No guarantees of suitability for any purpose.  By using this 
<A HREF="usr_05.html#plugin">plugin</A>, you agree that in no event will the <A HREF="uganda.html#copyright">copyright</A> holder be liable for any 
damages resulting from the use of this software. Use at your own risk!

==============================================================================

1. <A HREF="quickref.html#Contents">Contents</A>				*<A NAME="msgpack.vim-contents"></A><B>msgpack.vim-contents</B>*

	1. Contents..............................: |<A HREF="msgpack.html">msgpack.vim-contents</A>|
	2. Msgpack.vim introduction..............: |<A HREF="msgpack.html">msgpack.vim-intro</A>|
	3. Msgpack.vim manual....................: |<A HREF="msgpack.html">msgpack.vim-manual</A>|
	   Function arguments....................: |<A HREF="msgpack.html">msgpack.vim-arguments</A>|
	   msgpack#is_int function...............: |<A HREF="#msgpack#is_int()">msgpack#is_int()</A>|
	   msgpack#is_uint function..............: |<A HREF="#msgpack#is_uint()">msgpack#is_uint()</A>|
	   msgpack#strftime function.............: |<A HREF="#msgpack#strftime()">msgpack#strftime()</A>|
	   msgpack#strptime function.............: |<A HREF="#msgpack#strptime()">msgpack#strptime()</A>|
	   msgpack#int_dict_to_str function......: |<A HREF="#msgpack#int_dict_to_str()">msgpack#int_dict_to_str()</A>|
	   msgpack#special_type function.........: |<A HREF="#msgpack#special_type()">msgpack#special_type()</A>|
	   msgpack#type function.................: |<A HREF="#msgpack#type()">msgpack#type()</A>|
	   msgpack#deepcopy function.............: |<A HREF="#msgpack#deepcopy()">msgpack#deepcopy()</A>|
	   msgpack#string function...............: |<A HREF="#msgpack#string()">msgpack#string()</A>|
	   msgpack#eval function.................: |<A HREF="#msgpack#eval()">msgpack#eval()</A>|
	   msgpack#equal function................: |<A HREF="#msgpack#equal()">msgpack#equal()</A>|


==============================================================================

2. Msgpack.vim introduction			*<A NAME="msgpack.vim-intro"></A><B>msgpack.vim-intro</B>*

This <A HREF="usr_05.html#plugin">plugin</A> contains utility <A HREF="eval.html#functions">functions</A> to be used in conjunction with 
|<A HREF="eval.html#msgpackdump()">msgpackdump()</A>| and |<A HREF="eval.html#msgpackparse()">msgpackparse()</A>| <A HREF="eval.html#functions">functions</A>.

==============================================================================

3. Msgpack.vim manual				*<A NAME="msgpack.vim-manual"></A><B>msgpack.vim-manual</B>*


FUNCTION ARGUMENTS				*<A NAME="msgpack.vim-arguments"></A><B>msgpack.vim-arguments</B>*

Disambiguation of arguments described below.  Note: if e.g. function is listed 
<A HREF="motion.html#as">as</A> accepting |<A HREF="#{msgpack-integer}">{msgpack-integer}</A>| (or anything else) <A HREF="motion.html#it">it</A> means that function 
does not check whether argument matches its description.


*<A NAME="{msgpack-value}"></A><B>{msgpack-value}</B>*	Either |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| or a regular value, but 
			not function reference.

*<A NAME="{msgpack-integer}"></A><B>{msgpack-integer}</B>*	Any value for which |<A HREF="#msgpack#type()">msgpack#type()</A>| will return 
			&quot;integer&quot;.

*<A NAME="{msgpack-special-int}"></A><B>{msgpack-special-int}</B>*	|<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| representing integer.


msgpack#is_int({msgpack-value})				*<A NAME="msgpack#is_int()"></A><B>msgpack#is_int()</B>*
	Returns 1 if given <A HREF="#{msgpack-value}">{msgpack-value}</A> is integer value, 0 otherwise.


msgpack#is_uint({msgpack-value})			*<A NAME="msgpack#is_uint()"></A><B>msgpack#is_uint()</B>*
	Returns 1 if given <A HREF="#{msgpack-value}">{msgpack-value}</A> is integer value greater or equal 
	to zero, 0 otherwise.


							*<A NAME="msgpack#strftime"></A><B>msgpack#strftime</B>*

msgpack#strftime({format}, <A HREF="#{msgpack-integer}">{msgpack-integer}</A>)		*<A NAME="msgpack#strftime()"></A><B>msgpack#strftime()</B>*
	Same <A HREF="motion.html#as">as</A> |<A HREF="eval.html#strftime()">strftime()</A>|, but second argument may be 
	|<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>|.  Requires |<A HREF="intro.html#+python">+python</A>| or |<A HREF="intro.html#+python3">+python3</A>| to really 
	work with |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>|s.


							*<A NAME="msgpack#strptime"></A><B>msgpack#strptime</B>*

msgpack#strptime({format}, {time})			*<A NAME="msgpack#strptime()"></A><B>msgpack#strptime()</B>*
	Reverse of |msgpack#strptime()|: for any time and format 
	|msgpack#equal|( |msgpack#strptime|(format, |msgpack#strftime|(format, |||
	time)), time) be true.  Requires |<A HREF="intro.html#+python">+python</A>| or |<A HREF="intro.html#+python3">+python3</A>|, without <A HREF="motion.html#it">it</A> 
	only supports non-|<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| nonnegative times and format 
	equal to `&#37;Y-&#37;m-&#37;dT&#37;H:&#37;M:&#37;S`.


msgpack#int_dict_to_str({msgpack-special-int})	*<A NAME="msgpack#int_dict_to_str()"></A><B>msgpack#int_dict_to_str()</B>*
	Function which converts |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| integer value to 
	a hexadecimal value like 0x1234567890ABCDEF (always returns exactly 16 
	hexadecimal digits).


msgpack#special_type({msgpack-value})		*<A NAME="msgpack#special_type()"></A><B>msgpack#special_type()</B>*
	Returns zero if <A HREF="#{msgpack-value}">{msgpack-value}</A> is not |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>|.  If <A HREF="motion.html#it">it</A> 
	is <A HREF="motion.html#it">it</A> returns name of the key in |<A HREF="eval.html#v:msgpack_types">v:msgpack_types</A>| which represents 
	<A HREF="#{msgpack-value}">{msgpack-value}</A> type.


msgpack#type({msgpack-value})				*<A NAME="msgpack#type()"></A><B>msgpack#type()</B>*
	Returns name of the key in |<A HREF="eval.html#v:msgpack_types">v:msgpack_types</A>| that represents 
	<A HREF="#{msgpack-value}">{msgpack-value}</A> type.  Never returns zero: this function returns 
	msgpack type which will be dumped by |<A HREF="eval.html#msgpackdump()">msgpackdump()</A>| should <A HREF="motion.html#it">it</A> receive 
	a <A HREF="eval.html#list">list</A> with singe <A HREF="#{msgpack-value}">{msgpack-value}</A> <A HREF="motion.html#as">as</A> input.


msgpack#deepcopy({msgpack-value})			*<A NAME="msgpack#deepcopy()"></A><B>msgpack#deepcopy()</B>*
	Like |<A HREF="eval.html#deepcopy()">deepcopy()</A>|, but works correctly with |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| 
	values.  Plain |<A HREF="eval.html#deepcopy()">deepcopy()</A>| will destroy all types in 
	|<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| values because <A HREF="motion.html#it">it</A> will copy _TYPE key values, 
	while they should be preserved.


msgpack#string({msgpack-value})				*<A NAME="msgpack#string()"></A><B>msgpack#string()</B>*
	Like |<A HREF="eval.html#string()">string()</A>|, but saves information about msgpack types.  Values 
	dumped by msgpack#string may be read back by |<A HREF="#msgpack#eval()">msgpack#eval()</A>|.  
	Returns is the following:

	- <A HREF="eval.html#Dictionaries">Dictionaries</A> are dumped <A HREF="motion.html#as">as</A> &quot;{key1: value1, key2: value2}&quot;. Note: 
	  msgpack allows any values in keys, so with some 
	  |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| values |<A HREF="#msgpack#string()">msgpack#string()</A>| may produce even 
	  &quot;{{1: 2}: 3, [4]: 5}&quot;.
	- <A HREF="eval.html#Lists">Lists</A> are dumped <A HREF="motion.html#as">as</A> &quot;[value1, value2]&quot;.
	- Strings are dumped <A HREF="motion.html#as">as</A>
	  1. `&quot;abc&quot;`: binary <A HREF="eval.html#string">string</A>.
	  2. `=&quot;abc&quot;`: <A HREF="eval.html#string">string</A>.
	  3. `+(10)&quot;ext&quot;`: extension strings (10 may be replaced with any 
	     8-bit signed integer).
	  Inside strings the following <A HREF="intro.html#escape">escape</A> sequences may be present: &quot;<A HREF="change.html#\0">\0</A>&quot; 
	  (represents NUL byte), &quot;\n&quot; (represents line feed) and &quot;\&quot;&quot; 
	  (represents double <A HREF="change.html#quote">quote</A>).
	- Floating-point and integer values are dumped using |<A HREF="eval.html#string()">string()</A>| or 
	  |<A HREF="#msgpack#int_dict_to_str()">msgpack#int_dict_to_str()</A>|.
	- Booleans are dumped <A HREF="motion.html#as">as</A> &quot;<A HREF="eval.html#TRUE">TRUE</A>&quot; or &quot;<A HREF="eval.html#FALSE">FALSE</A>&quot;.
	- Nil values are dumped <A HREF="motion.html#as">as</A> &quot;NIL&quot;.


msgpack#eval({string}, {dict})				*<A NAME="msgpack#eval()"></A><B>msgpack#eval()</B>*
	Transforms string created by |<A HREF="#msgpack#string()">msgpack#string()</A>| into a value suitable 
	for |<A HREF="eval.html#msgpackdump()">msgpackdump()</A>|.  Second argument allows adding special values 
	that start with head characters (|<A HREF="pattern.html#/\h">/\h</A>|) and contain only <A HREF="motion.html#word">word</A> 
	characters (|<A HREF="pattern.html#/\w">/\w</A>|).  Built-in special values are &quot;<A HREF="eval.html#TRUE">TRUE</A>&quot;, &quot;<A HREF="eval.html#FALSE">FALSE</A>&quot;, 
	&quot;NIL&quot;, &quot;nan&quot; and &quot;inf&quot; and they cannot be overridden.  Map values are 
	always evaluated to |<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| values, <A HREF="motion.html#as">as</A> well <A HREF="motion.html#as">as</A> 
	hexadecimal digits.  When evaluating maps order of keys is preserved.

	Note that in addition to regular integer representations that may be 
	obtained using |<A HREF="#msgpack#string()">msgpack#string()</A>| <A HREF="#msgpack#eval()">msgpack#eval()</A> also supports C-style 
	“character” integer constants like `'/'` (equivalent to 
	`char2nr('/')`: `47`). This also allows `'\0'` (number is decimal).


							*<A NAME="msgpack#equal"></A><B>msgpack#equal</B>*

msgpack#equal({msgpack-value}, <A HREF="#{msgpack-value}">{msgpack-value}</A>)		*<A NAME="msgpack#equal()"></A><B>msgpack#equal()</B>*
	Returns 1 if given values are equal, 0 otherwise.  When comparing 
	msgpack map values order of keys is ignored.  Comparing 
	|<A HREF="eval.html#msgpack-special-dict">msgpack-special-dict</A>| with equivalent non-special-dict value 
	evaluates to 1.

==============================================================================
<A HREF="#top">top</A> - <A HREF="index.html">main help file</A>
</PRE>
    </div>

    <footer>
      <div class="container">
        Generated Sun Jul 11 05:28:48 UTC 2021 from <a href="https://github.com/neovim/neovim/commit/79fe9dedcfede1d2038b47a21f21a995051deaa2"><code>79fe9de</code></a>.
      </div>
    </footer>
  </body>
</html>
