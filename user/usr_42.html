<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <title>Nvim documentation: usr_42</title>
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900" rel="stylesheet">
    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
  </head>
  <body>
    <header class="container">
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <a href="/" class="navbar-brand">
            <svg xmlns="http://www.w3.org/2000/svg" style="height: 2.5em" viewBox="0 0 742 214">
              <defs>
                <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
                  <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
                  <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
                </linearGradient>
                <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
                  <stop stop-color="#7DB643" offset="0%" />
                  <stop stop-color="#367533" offset="100%" />
                </linearGradient>
                <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
                  <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
                  <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
                </linearGradient>
              </defs>
              <g fill="none" fill-rule="evenodd">
                <path
                  d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
                  fill="url(#a)"
                  transform="translate(1 1)"
                />
                <path
                  d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
                  fill="url(#b)"
                  transform="matrix(-1 0 0 1 305 1)"
                />
                <path
                  d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
                  fill="url(#c)"
                  transform="translate(1 1)"
                />
                <path
                  d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
                  fill-opacity=".13"
                  fill="#000"
                />
                <g fill="#444">
                  <path
                    d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
                    fill="currentColor"
                  />
                  <path
                    d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
                    fill="currentColor"
                    fill-opacity=".8"
                  />
                </g>
              </g>
            </svg>
          </a>
        </div>
      </nav>
    </header>

    <div class="container">
      <h1>Nvim documentation: usr_42</h1>
<A NAME="top"></A>
<A HREF="index.html">main help file</A>

<HR>
<PRE>

*<A NAME="usr_42.txt"></A><B>usr_42.txt</B>*	Nvim

		     VIM USER MANUAL - by Bram Moolenaar

			      Add new <A HREF="gui.html#menus">menus</A>


By now you know that Vim is very flexible.  This includes the <A HREF="gui.html#menus">menus</A> used in
the <A HREF="gui.html#GUI">GUI</A>.  You can define your own menu entries to make certain commands easily
accessible.  This is for mouse-happy users only.

|<A HREF="#42.1">42.1</A>|	Introduction
|<A HREF="#42.2">42.2</A>|	Menu commands
|<A HREF="#42.3">42.3</A>|	Various
|<A HREF="#42.4">42.4</A>|	Toolbar and popup <A HREF="gui.html#menus">menus</A>

     Next chapter: |<A HREF="usr_43.html">usr_43.txt</A>|  Using <A HREF="filetype.html#filetypes">filetypes</A>
 Previous chapter: |<A HREF="usr_41.html">usr_41.txt</A>|  Write a Vim <A HREF="usr_41.html#script">script</A>
Table of contents: |<A HREF="usr_toc.html">usr_toc.txt</A>|

==============================================================================

*<A NAME="42.1"></A><B>42.1</B>*	Introduction

The <A HREF="gui.html#menus">menus</A> that Vim uses are defined in the file &quot;$VIMRUNTIME/menu.vim&quot;.  If
you want to write your own <A HREF="gui.html#menus">menus</A>, you might first want to look through that
file.
   To define a menu item, use the &quot;<A HREF="gui.html#:menu">:menu</A>&quot; command.  The basic form of this
command is <A HREF="motion.html#as">as</A> follows:

<B>	:menu {menu-item} {keys}</B>

The {menu-item} describes where on the menu to put the item.  A typical
{menu-item} is &quot;File.Save&quot;, which represents the item &quot;Save&quot; under the
&quot;File&quot; menu.  A dot is used to separate the names.  Example:

<B>	:menu File.Save  :update&lt;CR&gt;</B>

The &quot;<A HREF="editing.html#:update">:update</A>&quot; command writes the file when <A HREF="motion.html#it">it</A> was modified.
   You can add another level: &quot;Edit.Settings.Shiftwidth&quot; defines a submenu
&quot;Settings&quot; under the &quot;Edit&quot; menu, with an item &quot;Shiftwidth&quot;.  You could use
even deeper levels.  Don't use this too much, you need to move the mouse quite
a bit to use such an item.
   The &quot;<A HREF="gui.html#:menu">:menu</A>&quot; command is very similar to the &quot;<A HREF="map.html#:map">:map</A>&quot; command: the left side
specifies how the item is triggered and the right hand side defines the
characters that are executed.  {keys} are characters, they are used just like
you would have typed them.  Thus in <A HREF="insert.html#Insert">Insert</A> mode, when {keys} is plain text,
that text is inserted.


ACCELERATORS

The ampersand character (&amp;) is used to indicate an accelerator.  For instance,
you can use Alt-F to select &quot;File&quot; and <A HREF="change.html#S">S</A> to select &quot;Save&quot;.  (The <A HREF="options.html#'winaltkeys'">'winaltkeys'</A>
option may disable this though!).  Therefore, the {menu-item} looks like
&quot;&amp;File.&amp;Save&quot;.  The accelerator characters will be underlined in the menu.
   You must take care that each key is used only once in each menu.  Otherwise
you will not know which of the two will actually be used.  Vim doesn't warn
you for this.


PRIORITIES

The actual definition of the File.Save menu item is <A HREF="motion.html#as">as</A> follows:

<B>	:menu 10.340 &amp;File.&amp;Save&lt;Tab&gt;:w  :confirm w&lt;CR&gt;</B>

The number 10.340 is called the priority number.  It is used by the editor to
decide where <A HREF="motion.html#it">it</A> places the menu item.  The first number (10) indicates the
position on the menu <A HREF="motion.html#bar">bar</A>.  Lower numbered <A HREF="gui.html#menus">menus</A> are positioned to the left,
higher numbers to the right.
   These are the priorities used for the standard <A HREF="gui.html#menus">menus</A>:

	  10	20     40     50      60       70		9999

	+------------------------------------------------------------+
	&#124; File	Edit  Tools  <A HREF="autocmd.html#Syntax">Syntax</A>  Buffers  Window		Help |
	+------------------------------------------------------------+

Notice that the Help menu is given a very high number, to make <A HREF="motion.html#it">it</A> appear on
the far right.
   The second number (340) determines the location of the item within the
pull-down menu.  Lower numbers go on top, higher number on the bottom.  These
are the priorities in the File menu:

			+-----------------+
	    10.310	|Open...	  |
	    10.320	|Split-Open...	  |
	    10.325	|New		  |
	    10.330	|Close		  |
	    10.335	|---------------- |
	    10.340	|Save		  |
	    10.350	|Save As...	  |
	    10.400	|---------------- |
	    10.410	|Split Diff with  |
	    10.420	|Split Patched By |
	    10.500	|---------------- |
	    10.510	|Print		  |
	    10.600	|---------------- |
	    10.610	|Save-Exit	  |
	    10.620	|Exit		  |
			+-----------------+

Notice that there is room in between the numbers.  This is where you can
insert your own items, if you really want to (it's often better to leave the
standard <A HREF="gui.html#menus">menus</A> alone and add a new menu for your own items).
   When you create a submenu, you can add another &quot;.number&quot; to the priority.
Thus each name in {menu-item} has its priority number.


SPECIAL CHARACTERS

The {menu-item} in this example is &quot;&amp;File.&amp;Save&lt;Tab&gt;:w&quot;.  This brings up an
important point: {menu-item} must be one <A HREF="motion.html#word">word</A>.  If you want to put a dot,
space or tabs in the name, you either use the <A HREF="intro.html#&lt;&gt;">&lt;&gt;</A> <A HREF="intro.html#notation">notation</A> (&lt;Space&gt; and <A HREF="motion.html#&lt;Tab&gt;">&lt;Tab&gt;</A>,
for instance) or use the <A HREF="intro.html#backslash">backslash</A> (\) <A HREF="intro.html#escape">escape</A>.

<B>	:menu 10.305 &amp;File.&amp;Do\ It\.\.\. :exit&lt;CR&gt;</B>

In this example, the name of the menu item &quot;Do It...&quot; contains a space and the
command is &quot;:exit&lt;CR&gt;&quot;.

The <A HREF="motion.html#&lt;Tab&gt;">&lt;Tab&gt;</A> character in a menu name is used to separate the part that defines
the menu name from the part that gives a hint to the user.  The part after the
<A HREF="motion.html#&lt;Tab&gt;">&lt;Tab&gt;</A> is displayed right aligned in the menu.  In the File.Save menu the name
used is &quot;&amp;File.&amp;Save&lt;Tab&gt;:w&quot;.  Thus the menu name is &quot;File.Save&quot; and the hint
is &quot;<A HREF="editing.html#:w">:w</A>&quot;.


SEPARATORS

The separator lines, used to group related menu items together, can be defined
by using a name that starts and ends in a '<A HREF="motion.html#-">-</A>'.  For example &quot;-sep-&quot;.  When
using several separators the names must be different.  Otherwise the names
don't matter.
   The command from a separator will never be executed, but you have to define
one anyway.  A single colon will <A HREF="diff.html#do">do</A>.  Example:

<B>	:amenu 20.510 Edit.-sep3- :</B>

==============================================================================

*<A NAME="42.2"></A><B>42.2</B>*	Menu commands

You can define menu items that exist for only certain modes.  This works just
like the variations on the &quot;<A HREF="map.html#:map">:map</A>&quot; command:

	<A HREF="gui.html#:menu">:menu</A>		<A HREF="intro.html#Normal">Normal</A>, <A HREF="visual.html#Visual">Visual</A> and <A HREF="intro.html#Operator-pending">Operator-pending</A> mode
	<A HREF="gui.html#:nmenu">:nmenu</A>		<A HREF="intro.html#Normal">Normal</A> mode
	<A HREF="gui.html#:vmenu">:vmenu</A>		<A HREF="visual.html#Visual">Visual</A> mode
	<A HREF="gui.html#:omenu">:omenu</A>		<A HREF="intro.html#Operator-pending">Operator-pending</A> mode
	<A HREF="gui.html#:menu">:menu</A>!		<A HREF="insert.html#Insert">Insert</A> and <A HREF="cmdline.html#Command-line">Command-line</A> mode
	<A HREF="gui.html#:imenu">:imenu</A>		<A HREF="insert.html#Insert">Insert</A> mode
	<A HREF="gui.html#:cmenu">:cmenu</A>		<A HREF="cmdline.html#Command-line">Command-line</A> mode
	<A HREF="gui.html#:amenu">:amenu</A>		All modes

To avoid that the commands of a menu item are being mapped, use the command
&quot;<A HREF="gui.html#:noremenu">:noremenu</A>&quot;, &quot;<A HREF="gui.html#:nnoremenu">:nnoremenu</A>&quot;, &quot;<A HREF="gui.html#:anoremenu">:anoremenu</A>&quot;, etc.


USING :AMENU

The &quot;<A HREF="gui.html#:amenu">:amenu</A>&quot; command is a bit different.  It assumes that the {keys} you
give are to be executed in <A HREF="intro.html#Normal">Normal</A> mode.  When Vim is in <A HREF="visual.html#Visual">Visual</A> or <A HREF="insert.html#Insert">Insert</A> mode
when the menu is used, Vim first has to go back to <A HREF="intro.html#Normal">Normal</A> mode.  &quot;<A HREF="gui.html#:amenu">:amenu</A>&quot;
inserts a <A HREF="pattern.html#CTRL-C">CTRL-C</A> or <A HREF="motion.html#CTRL-O">CTRL-O</A> for you.  For example, if you use this command:

<B>	:amenu  90.100 Mine.Find\ Word  *</B>

Then the resulting menu commands will be:

	<A HREF="intro.html#Normal">Normal</A> mode:		*
	<A HREF="visual.html#Visual">Visual</A> mode:		<A HREF="pattern.html#CTRL-C">CTRL-C</A> *
	<A HREF="intro.html#Operator-pending">Operator-pending</A> mode:	<A HREF="pattern.html#CTRL-C">CTRL-C</A> *
	<A HREF="insert.html#Insert">Insert</A> mode:		<A HREF="motion.html#CTRL-O">CTRL-O</A> *
	<A HREF="cmdline.html#Command-line">Command-line</A> mode:	<A HREF="pattern.html#CTRL-C">CTRL-C</A> *

When in <A HREF="cmdline.html#Command-line">Command-line</A> mode the <A HREF="pattern.html#CTRL-C">CTRL-C</A> will <A HREF="editing.html#abandon">abandon</A> the command typed so far.
In <A HREF="visual.html#Visual">Visual</A> and <A HREF="intro.html#Operator-pending">Operator-pending</A> mode <A HREF="pattern.html#CTRL-C">CTRL-C</A> will stop the mode.  The <A HREF="motion.html#CTRL-O">CTRL-O</A> in
<A HREF="insert.html#Insert">Insert</A> mode will execute the command and then return to <A HREF="insert.html#Insert">Insert</A> mode.
   <A HREF="motion.html#CTRL-O">CTRL-O</A> only works for one command.  If you need to use two or more
commands, put them in a function and call that function.  Example:

<B>	:amenu  Mine.Next\ File  :call &lt;SID&gt;NextFile()&lt;CR&gt;</B>
<B>	:function &lt;SID&gt;NextFile()</B>
<B>	:  next</B>
<B>	:  1/^Code</B>
<B>	:endfunction</B>

This menu entry goes to the next file in the argument <A HREF="eval.html#list">list</A> with &quot;<A HREF="editing.html#:next">:next</A>&quot;.  Then
<A HREF="motion.html#it">it</A> searches for the line that starts with &quot;Code&quot;.
   The <A HREF="map.html#&lt;SID&gt;">&lt;SID&gt;</A> before the function name is the <A HREF="usr_41.html#script">script</A> ID.  This makes the
function local to the current Vim <A HREF="usr_41.html#script">script</A> file.  This avoids problems when a
function with the same name is defined in another <A HREF="usr_41.html#script">script</A> file.  See |<A HREF="map.html#&lt;SID&gt;">&lt;SID&gt;</A>|.


SILENT MENUS

The menu executes the {keys} <A HREF="motion.html#as">as</A> if you typed them.  For a &quot;<A HREF="cmdline.html#:">:</A>&quot; command this
means you will see the command being echoed on the command line.  If it's a
long command, the hit-Enter prompt will appear.  That can be very annoying!
   To avoid this, make the menu silent.  This is done with the &lt;silent&gt;
argument.  For example, take the call to NextFile() in the previous example.
When you use this menu, you will see this on the command line:

<B><FONT color="#54A23D">	:call &lt;SNR&gt;34_NextFile() </FONT></B>

To avoid this text on the command line, insert &quot;&lt;silent&gt;&quot; <A HREF="motion.html#as">as</A> the first
argument:

<B>	:amenu &lt;silent&gt; Mine.Next\ File :call &lt;SID&gt;NextFile()&lt;CR&gt;</B>

Don't use &quot;&lt;silent&gt;&quot; too often.  It is not needed for short commands.  If you
make a menu for someone else, being able to see the executed command will
give them a hint about what they could have typed, instead of using the mouse.


LISTING MENUS

When a menu command is used without a {keys} part, <A HREF="motion.html#it">it</A> lists the already
defined <A HREF="gui.html#menus">menus</A>.  You can specify a {menu-item}, or part of <A HREF="motion.html#it">it</A>, to <A HREF="eval.html#list">list</A> specific
<A HREF="gui.html#menus">menus</A>.  Example:

<B>	:amenu</B>

This lists all <A HREF="gui.html#menus">menus</A>.  That's a long <A HREF="eval.html#list">list</A>!  Better specify the name of a menu
to get a shorter <A HREF="eval.html#list">list</A>:

<B>	:amenu Edit</B>

This lists only the &quot;Edit&quot; menu items for all modes.  To <A HREF="eval.html#list">list</A> only one
specific menu item for <A HREF="insert.html#Insert">Insert</A> mode:

<B>	:imenu Edit.Undo</B>

Take care that you type exactly the right name.  Case matters here.  But the
'<A HREF="change.html#&amp;">&amp;</A>' for accelerators can be omitted.  The <A HREF="motion.html#&lt;Tab&gt;">&lt;Tab&gt;</A> and what comes after <A HREF="motion.html#it">it</A> can be
left out <A HREF="motion.html#as">as</A> well.


DELETING MENUS

To delete a menu, the same command is used <A HREF="motion.html#as">as</A> for listing, but with &quot;menu&quot;
changed to &quot;unmenu&quot;.  Thus &quot;<A HREF="gui.html#:menu">:menu</A>&quot; becomes, &quot;<A HREF="gui.html#:unmenu">:unmenu</A>&quot;, &quot;<A HREF="gui.html#:nmenu">:nmenu</A>&quot; becomes
&quot;<A HREF="gui.html#:nunmenu">:nunmenu</A>&quot;, etc.  To delete the &quot;Tools.Make&quot; item for <A HREF="insert.html#Insert">Insert</A> mode:

<B>	:iunmenu Tools.Make</B>

You can delete a whole menu, with all its items, by using the menu name.
Example:

<B>	:aunmenu Syntax</B>

This deletes the <A HREF="autocmd.html#Syntax">Syntax</A> menu and all the items in <A HREF="motion.html#it">it</A>.

==============================================================================

*<A NAME="42.3"></A><B>42.3</B>*	Various

You can change the appearance of the <A HREF="gui.html#menus">menus</A> with flags in <A HREF="options.html#'guioptions'">'guioptions'</A>.  In the
default value they are all included, except &quot;<A HREF="motion.html#M">M</A>&quot;.  You can remove a flag with a
command like:

<B>	:set guioptions-=m</B>
 
	<A HREF="motion.html#m">m</A>		When removed the menubar is not displayed.

	<A HREF="motion.html#M">M</A>		When added the default <A HREF="gui.html#menus">menus</A> are not loaded.

	<A HREF="vimindex.html#g">g</A>		When removed the inactive menu items are not made grey
			but are completely removed.  (Does not work on all
			systems.)

For translating menu items, see |<A HREF="mlang.html#:menutrans">:menutrans</A>|.

Since the mouse has to be used to select a menu item, <A HREF="motion.html#it">it</A> is a good idea to use
the &quot;<A HREF="editing.html#:browse">:browse</A>&quot; command for selecting a file.  And &quot;<A HREF="editing.html#:confirm">:confirm</A>&quot; to get a dialog
instead of an error message, e.g., when the current buffer contains changes.
These two can be combined:

<B>	:amenu File.Open  :browse confirm edit&lt;CR&gt;</B>

The &quot;<A HREF="editing.html#:browse">:browse</A>&quot; makes a file browser appear to select the file to edit.  The
&quot;<A HREF="editing.html#:confirm">:confirm</A>&quot; will pop up a dialog when the current buffer has changes.  You can
then select to save the changes, throw them away or cancel the command.
   For more complicated items, the <A HREF="eval.html#confirm()">confirm()</A> and <A HREF="deprecated.html#inputdialog()">inputdialog()</A> <A HREF="eval.html#functions">functions</A> can
be used.  The default <A HREF="gui.html#menus">menus</A> contain a few examples.

==============================================================================

*<A NAME="42.4"></A><B>42.4</B>*	Toolbar and popup <A HREF="gui.html#menus">menus</A>

There are two special <A HREF="gui.html#menus">menus</A>: ToolBar and PopUp.  Items that start with these
names <A HREF="diff.html#do">do</A> not appear in the normal menu <A HREF="motion.html#bar">bar</A>.


TOOLBAR

The toolbar appears only when the &quot;<A HREF="motion.html#T">T</A>&quot; flag is included in the <A HREF="options.html#'guioptions'">'guioptions'</A>
option.
   The toolbar uses icons rather than text to represent the command.  For
example, the {menu-item} named &quot;ToolBar.New&quot; causes the &quot;New&quot; icon to appear
on the toolbar.
   The Vim editor has 28 built-in icons.  You can find a table here:
|<A HREF="gui.html#builtin-tools">builtin-tools</A>|.  Most of them are used in the default toolbar.  You can
redefine what these items <A HREF="diff.html#do">do</A> (after the default <A HREF="gui.html#menus">menus</A> are setup).
   You can add another bitmap for a toolbar item.  Or define a new toolbar
item with a bitmap.  For example, define a new toolbar item with:

<B>	:tmenu ToolBar.Compile  Compile the current file</B>
<B>	:amenu ToolBar.Compile  :!cc %:S -o %:r:S&lt;CR&gt;</B>

Now you need to create the icon.  For MS-Windows <A HREF="motion.html#it">it</A> must be in bitmap format,
with the name &quot;Compile.bmp&quot;.  For Unix XPM format is used, the file name is
&quot;Compile.xpm&quot;.  The size must be 18 by 18 pixels.  On MS-Windows other sizes
can be used <A HREF="motion.html#as">as</A> well, but <A HREF="motion.html#it">it</A> will look ugly.
   Put the bitmap in the directory &quot;bitmaps&quot; in one of the directories from
<A HREF="options.html#'runtimepath'">'runtimepath'</A>.  E.g., for Unix &quot;~/.config/nvim/bitmaps/Compile.xpm&quot;.

You can define tooltips for the items in the toolbar.  A tooltip is a short
text that explains what a toolbar item will <A HREF="diff.html#do">do</A>.  For example &quot;Open file&quot;.  It
appears when the mouse pointer is on the item, without moving for a moment.
This is very useful if the meaning of the picture isn't that obvious.
Example:

<B>	:tmenu ToolBar.Make  Run make in the current directory</B>
 
	Note:
	Pay attention to the <A HREF="change.html#case">case</A> used.  &quot;Toolbar&quot; and &quot;toolbar&quot; are different
	from &quot;ToolBar&quot;!

To remove a tooltip, use the |<A HREF="gui.html#:tunmenu">:tunmenu</A>| command.

The <A HREF="vim_diff.html#'toolbar'">'toolbar'</A> option can be used to display text instead of a bitmap, or both
text and a bitmap.  Most people use just the bitmap, since the text takes
quite a bit of space.


POPUP MENU

The popup menu pops up where the mouse pointer is.  On MS-Windows you activate
<A HREF="motion.html#it">it</A> by clicking the right mouse button.  Then you can select an item with the
left mouse button.  On Unix the popup menu is used by pressing and holding the
right mouse button.
   The popup menu only appears when the <A HREF="options.html#'mousemodel'">'mousemodel'</A> has been set to &quot;popup&quot;
or &quot;popup_setpos&quot;.  The difference between the two is that &quot;popup_setpos&quot;
moves the cursor to the mouse pointer position.  When clicking inside a
selection, the selection will be used unmodified.  When there is a selection
but you click outside of <A HREF="motion.html#it">it</A>, the selection is removed.
   There is a separate popup menu for each mode.  Thus there are never grey
items like in the normal <A HREF="gui.html#menus">menus</A>.


What is the meaning of life, the universe and everything?  *<A NAME="42"></A><B>42</B>*
Douglas Adams, the only person who knew what this question really was about is
now dead, unfortunately.  So now you might wonder what the meaning of death
is...

==============================================================================

Next chapter: |<A HREF="usr_43.html">usr_43.txt</A>|  Using <A HREF="filetype.html#filetypes">filetypes</A>

Copyright: see |<A HREF="usr_01.html#manual-copyright">manual-copyright</A>|  vim:tw=78:ts=8:noet:ft=help:norl:
<A HREF="#top">top</A> - <A HREF="index.html">main help file</A>
</PRE>
    </div>

    <footer>
      <div class="container">
        Generated Tue Jul 13 05:29:27 UTC 2021 from <a href="https://github.com/neovim/neovim/commit/eece0735fe3b4f70747644ebf5daf7320f441616"><code>eece073</code></a>.
      </div>
    </footer>
  </body>
</html>
